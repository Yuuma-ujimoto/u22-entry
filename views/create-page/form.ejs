<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>フォーム作成</title>

    <!-- 住所検索 -->
    <link rel="stylesheet" href="/create/css/create-style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajaxzip3.github.io/ajaxzip3.js" charset="UTF-8"></script>
    <script type="text/javascript" src="/create/js/address.js"></script>
    <script type="text/javascript" src="/create/js/set_data.js"></script>
</head>

<body>
<div class="top">
    <h1>お店の内容を<br><span class="hbr">登録してください</span></h1>
    <a href="/">
        <img src="/create/images/logo.png" alt="ロゴ" class="logo">
    </a>

    <img src="/create/images/girl.png" alt="女のコ" class="girl">

</div>

<div class="wrap">


    <div class="form_wrap">
        <form id="form" action="/" method="post" name="webmakeform" enctype="multipart/form-data">

            <div class="input">
                <label for="storename">店名<span class="require">必須</span></label>
                <br>
                <input type="text" name="shop_name" id="storename" required>
            </div>

            <div class="input">
                <label>カテゴリ<span class="require">必須</span></label>
                <div class="category_wrap">
                    <div class="category1">
                        <input type="radio" name="category" value="和食" id="category_id_1" checked>
                        <label for="category_id_1">和食</label><br>
                        <input type="radio" id="category_id_2" value="洋食" name="category">
                        <label for="category_id_2">洋食</label><br>
                        <input type="radio" id="category_id_3" value="中華" name="category">
                        <label for="category_id_3" class="short">中華</label><br>
                        <input type="radio" id="category_id_4" value="イタリアン" name="category">
                        <label for="category_id_4">イタリアン</label><br>
                    </div>
                    <br>
                    <div class="category2">
                        <input type="radio" id="category_id_5" value="居酒屋" name="category">
                        <label for="category_id_5">居酒屋</label><br>
                        <input type="radio" id="category_id_6" value="麺類" name="category">
                        <label for="category_id_6">麺類</label><br>
                        <input type="radio" id="category_id_7" value="カフェ・スイーツ" name="category">
                        <label for="category_id_7" class="short">カフェ・スイーツ</label><br>
                        <input type="radio" id="category_id_8" value="その他" name="category">
                        <label for="category_id_8">その他</label><br>
                    </div>
                </div>

            </div>


            <div class="input">
                <label for="addressnum">郵便番号<span class="require">必須</span></label> <br>
                <input type="number" name="postal_code" maxlength="8" id="addressnum"
                       required>
                <button type="button" class="js-button">住所検索</button>
            </div>

            <div class="input">
                <label for="prefecture">都道府県<span class="require">必須</span></label> <br>
                <select name="address_1" id="prefecture">
                    <option disabled selected>選択してください</option>
                    <optgroup label="北海道・東北">
                        <option value="北海道">北海道</option>
                        <option value="青森県">青森県</option>
                        <option value="秋田県">秋田県</option>
                        <option value="岩手県">岩手県</option>
                        <option value="山形県">山形県</option>
                        <option value="宮城県">宮城県</option>
                        <option value="福島県">福島県</option>
                    </optgroup>
                    <optgroup label="甲信越・北陸">
                        <option value="山梨県">山梨県</option>
                        <option value="長野県">長野県</option>
                        <option value="新潟県">新潟県</option>
                        <option value="富山県">富山県</option>
                        <option value="石川県">石川県</option>
                        <option value="福井県">福井県</option>
                    </optgroup>
                    <optgroup label="関東">
                        <option value="茨城県">茨城県</option>
                        <option value="栃木県">栃木県</option>
                        <option value="群馬県">群馬県</option>
                        <option value="埼玉県">埼玉県</option>
                        <option value="千葉県">千葉県</option>
                        <option value="東京都">東京都</option>
                        <option value="神奈川県">神奈川県</option>
                    </optgroup>
                    <optgroup label="東海">
                        <option value="愛知県">愛知県</option>
                        <option value="静岡県">静岡県</option>
                        <option value="岐阜県">岐阜県</option>
                        <option value="三重県">三重県</option>
                    </optgroup>
                    <optgroup label="関西">
                        <option value="大阪府">大阪府</option>
                        <option value="兵庫県">兵庫県</option>
                        <option value="京都府">京都府</option>
                        <option value="滋賀県">滋賀県</option>
                        <option value="奈良県">奈良県</option>
                        <option value="和歌山県">和歌山県</option>
                    </optgroup>
                    <optgroup label="中国">
                        <option value="岡山県">岡山県</option>
                        <option value="広島県">広島県</option>
                        <option value="鳥取県">鳥取県</option>
                        <option value="島根県">島根県</option>
                        <option value="山口県">山口県</option>
                    </optgroup>
                    <optgroup label="四国">
                        <option value="徳島県">徳島県</option>
                        <option value="香川県">香川県</option>
                        <option value="愛媛県">愛媛県</option>
                        <option value="高知県">高知県</option>
                    </optgroup>
                    <optgroup label="九州・沖縄">
                        <option value="福岡県">福岡県</option>
                        <option value="佐賀県">佐賀県</option>
                        <option value="長崎県">長崎県</option>
                        <option value="熊本県">熊本県</option>
                        <option value="大分県">大分県</option>
                        <option value="宮崎県">宮崎県</option>
                        <option value="鹿児島県">鹿児島県</option>
                        <option value="沖縄県">沖縄県</option>
                    </optgroup>
                </select>
            </div>

            <div class="input">
                <label for="address2">市区町村<span class="require">必須</span></label> <br>
                <input type="text" name="address_2" size="60" id="address2" required>
            </div>

            <div class="input">
                <label for="address3">番地・建物名<span class="require">必須</span></label> <br>
                <input type="text" name="address_3" id="address3" required>
            </div>

            <div class="input">
                <label for="station_input">最寄り駅<span class="require">必須</span></label> <br>
                <input type="text" name="station" id="station_input" required>
            </div>

            <div class="input">

                <label for="">営業時間<span class="require">必須</span></label> <br>
                <div class="yoko"><input type="time" name="opening_hours" id="opentime"
                                         required>
                    <div class="kara_wrap">
                        <p class="kara">～</p>
                    </div>
                    <input type="time" name="closing_hours" id="closetime" required>
                </div>
            </div>

            <div class="input">
                <label for="mail_address">メールアドレス</label> <br>
                <input type="email" name="mail_address" id="mail_address">
            </div>

            <div class="input">
                <label for="phone_number">電話番号</label> <br>
                <input type="tel" name="phone_number" id="phone_number"
                       maxlength="17">
            </div>


            <div class="menuwrap">
                <div id="menu">
                    <div class="menu_box">
                        <div class="detail">
                            <div class="input">
                                <label>メニュー<span class="require">必須</span></label> <br>
                                <input type="text" name="menu_name" class="menu_title">
                            </div>

                            <div class="input">
                                <label for="menu_img">メニューの画像</label>
                                <input type="file" name="menu_img" id="menu_img">
                            </div>

                            <div class="input">
                                <label>値段(税込み)</label> <br>
                                <input type="number" name="price" maxlength="8">
                            </div>

                            <div class="input">
                                <label>説明</label> <br>
                                <textarea name="menu_description" id="menu_description" class="ex_box">a</textarea>
                            </div>
                            <hr>
                        </div>

                        <div class="button-wrapper">
                            <div class="button-box">
                                <p>メニュー数を増やす</p>
                                <button type="button" name="button" class="menupbtn">+</button>
                            </div>

                            <div class="button-box">

                                <p>メニューを減らす</p>
                                <button type="button" name="button" class="menumbtn">-</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="input">
                <label for="logo_img">ロゴの画像</label>
                <input type="file" name="logo_img" id="logo_img">
            </div>

            <div class="input">
                <label for="shop_img">店内画像</label>
                <input type="file" name="shop_img" id="shop_img">
            </div>

            <div class="input">
                <label for="comment_text">一言コメント (50文字以内)</label> <br>
                <textarea name="comment" id="comment_text" class="ex_box"></textarea>
            </div>


            <div class="input submitbtn">
                <input type="hidden" name="check_img_data" id="test">
                <input type="hidden" name="img_count" id="count">
                <input type="button" class="reset" onclick="reset()" value="リセット">
                <input type="submit" class="submit" value="決定" formaction="/create/confirm-and-db-insert">
            </div>

        </form>
    </div>
</div>


</body>
<script type="text/javascript" charset="UTF-8">
    function reset() {
        document.webmakeform.reset();
    }

    var snscnt = 1;
    var menucnt = 1;
    $('.snspbtn').on('click', function () {
        snscnt++;
        if (snscnt == 5) {
            snscnt--;
        } else {
            $("#sns"). //#each_rootを取得
                clone(true). //上で取得した中身をコピー
                insertBefore(".snspbtn"); //#rootsに追加

        }
    })

    $('.menupbtn').on('click', function () {
        menucnt++;
        // $("#menu"). //#each_rootを取得
        //     clone(true). //上で取得した中身をコピー
        //     insertBefore(".menupbtn"); //#rootsに追加

        const html = `   <div class="menu_box">
                        <div class="detail">
                            <div class="input">
                                <label>メニュー<span class="require">必須</span></label> <br>
                                <input type="text" name="menu_name" class="menu_title">
                             </div>

                            <div class="input">
                                <label for="menu_img">メニューの画像</label>
                                <input type="file" name="menu_img" id="menu_img">
                            </div>

                            <div class="input">
                                <label>値段(税込み)</label> <br>
                                <input type="number" name="price" maxlength="8">
                            </div>

                            <div class="input">
                                <label>説明</label> <br>
                                <textarea name="menu_description" id="menu_description" class="ex_box">a</textarea>
                            </div>
                            <hr>
                        </div>

                        <div class="button-wrapper">


                        <div class="button-box">
                        <p>メニュー数を増やす</p>
                        <button type="button" name="button" class="menupbtn">+</button>
                        </div>

                        <div class="button-box">

                        <p>メニューを減らす</p>
                        <button type="button" name="button" class="menumbtn">-</button>
                        </div>
                        </div>

                    </div>`

        $("#menu").append(html)

    })


    $("body").on("click", ".menumbtn", function () {

        if (1 < $(".menu_box").length) {
            console.log($(this).parent().parent().parent().remove())
        }
    });

</script>

</html>